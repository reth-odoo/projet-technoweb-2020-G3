{% extends 'root.html' %}
{% import 'macros.html' as macros %}

{% block body %}
<article class="recipe-detail">
    <div class="row">
        <div class="info">
            <h1>{{ recipe.title }}</h1>
            <span>Par <a href="{{ recipe.author_url }}">{{ recipe.author_name }}</a></span>

            <div class="row">
                <span>Note des chefs : </span>
                {{ macros.rating(recipe.average_rating) }}
            </div>

            <div class="row">
                <span>Favoris : </span>
                <div class="fav-number">
                    <span>{{recipe.fav_count}}</span>
                    <button><i class="{{ 'fa' if recipe.current_user_favorited == True else 'far' }} fa-heart"></i></button>
                </div>
            </div>

            <div class="row requirements">
                <div class="ingredients">
                    <h2>Ingrédients</h2>
                    <ul>
                        {{ macros.as_list(recipe.ingredients) }}
                    </ul>
                </div>
                <div class="ustensiles">
                    <h2>Ustensiles</h2>
                    <ul>
                        {{ macros.as_list(recipe.ustensiles) }}
                    </ul>
                </div>
            </div>
        </div>
            <img class="cover" src="{{ recipe.picture }}">
        
    </div>

    <div class="steps">
        <h2>Préparation</h2>
        <ol>
            {{ macros.as_list(recipe.steps) }}
        </ol>
    </div>
</article>

<div class="recipe-comments">
    <h2>Commentaires des chefs</h2>
<ul id="comments">
    {% if is_chef and not already_rated %}
    <li class="comment row editor">
        <img src="https://rosieshouse.org/wp-content/uploads/2016/06/avatar-large-square.jpg" alt="avatar" class="avatar">
        <div class="column bubble">
            <div class="row all-width">
                <span class="name expand">Ajouter votre review</span>
                <ul class="rating" id="rating-input">
                    <li><button><i class="far fa-star"></i></button></li>
                    <li><button><i class="far fa-star"></i></button></li>
                    <li><button><i class="far fa-star"></i></button></li>
                    <li><button><i class="far fa-star"></i></button></li>
                    <li><button><i class="far fa-star"></i></button></li>
                </ul>
            </div>
            <textarea id="comment-input" placeholder="Comment avez-vous trouvé cette recette ?"></textarea>
            <button id="submit-rating-button" class="outlined-button">Publier</button>
        </div>
    </li>
    {% endif %}
    <!-- other comments here -->
</ul>
</div>
{% endblock %}